@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===============================
   Design System Tokens (HSL)
   =============================== */
@layer base {
  :root {
    /* Surfaces */
    --background: 0 0% 100%;
    --foreground: 222 47% 11%;

    --card: 0 0% 100%;
    --card-foreground: 222 47% 11%;

    --popover: 0 0% 100%;
    --popover-foreground: 222 47% 11%;

    /* Brand */
    --primary: 262 83% 55%;
    --primary-foreground: 210 40% 98%;

    --secondary: 210 40% 96%;
    --secondary-foreground: 222 47% 11%;

    --accent: 173 70% 45%;
    --accent-foreground: 210 40% 98%;

    --muted: 210 40% 96%;
    --muted-foreground: 215 16% 47%;

    --destructive: 0 84% 60%;
    --destructive-foreground: 210 40% 98%;

    --border: 214 32% 91%;
    --input: 214 32% 91%;
    --ring: 262 83% 55%;

    --radius: 0.6rem;

    /* Sidebar */
    --sidebar-background: 0 0% 98%;
    --sidebar-foreground: 240 5% 26%;
    --sidebar-primary: 262 83% 55%;
    --sidebar-primary-foreground: 0 0% 98%;
    --sidebar-accent: 240 5% 96%;
    --sidebar-accent-foreground: 240 6% 10%;
    --sidebar-border: 220 13% 91%;
    --sidebar-ring: 217 91% 60%;

    /* Extras */
    --primary-glow: 262 83% 60%;
    --gradient-hero: linear-gradient(135deg, hsl(var(--primary)), hsl(var(--accent)));
    --shadow-elegant: 0 10px 30px -10px hsl(var(--primary)/0.25);
    --shadow-glow: 0 12px 32px -10px hsl(var(--accent)/0.30);
  }

  .dark {
    --background: 222 84% 5%;
    --foreground: 210 40% 98%;

    --card: 222 84% 6%;
    --card-foreground: 210 40% 98%;

    --popover: 222 84% 6%;
    --popover-foreground: 210 40% 98%;

    --primary: 262 83% 70%;
    --primary-foreground: 222 47% 11%;

    --secondary: 217 33% 18%;
    --secondary-foreground: 210 40% 98%;

    --muted: 217 33% 18%;
    --muted-foreground: 215 20% 65%;

    --accent: 173 70% 45%;
    --accent-foreground: 210 40% 98%;

    --destructive: 0 63% 31%;
    --destructive-foreground: 210 40% 98%;

    --border: 217 33% 18%;
    --input: 217 33% 18%;
    --ring: 262 83% 70%;

    --sidebar-background: 240 6% 10%;
    --sidebar-foreground: 240 5% 96%;
    --sidebar-primary: 262 83% 70%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 240 4% 16%;
    --sidebar-accent-foreground: 240 5% 96%;
    --sidebar-border: 240 4% 16%;
    --sidebar-ring: 217 91% 60%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground antialiased;
    background-image:
      radial-gradient(800px 500px at 20% -10%, hsl(var(--primary)/0.12), transparent 60%),
      radial-gradient(900px 600px at 90% 110%, hsl(var(--accent)/0.12), transparent 60%);
    background-attachment: fixed;
  }
}

/* ===============================
   COMPONENTS (estilo + animação)
   =============================== */
@layer components {
  /* Cartões com elevação suave + glass */
  .card-surface {
    @apply bg-card/90 border rounded-2xl shadow;
    backdrop-filter: blur(6px);
    box-shadow: var(--shadow-elegant);
  }
  .card-hover {
    @apply transition-all duration-300 hover:-translate-y-0.5;
    box-shadow: var(--shadow-elegant), var(--shadow-glow);
  }

  /* Botões “hero” com gradiente e brilho */
  .btn-hero {
    @apply inline-flex items-center justify-center px-4 py-2 font-medium rounded-xl text-white;
    background-image: var(--gradient-hero);
    box-shadow: 0 6px 20px -6px hsl(var(--primary)/0.45);
    transition: transform .2s, box-shadow .25s, filter .25s;
  }
  .btn-hero:hover { transform: translateY(-1px); filter: brightness(1.03); }
  .btn-hero:active { transform: translateY(0); filter: brightness(0.98); }

  /* Inputs com foco elegante */
  .input-elevated {
    @apply bg-background/90 border rounded-lg px-3 h-10 outline-none transition-shadow;
    box-shadow: 0 1px 0 hsl(var(--border));
  }
  .input-elevated:focus {
    @apply ring-2;
    --tw-ring-color: hsl(var(--ring));
    box-shadow: 0 0 0 6px hsl(var(--ring)/0.12);
  }

  /* Badges suaves */
  .badge-soft {
    @apply inline-flex items-center gap-1 text-xs px-2 py-0.5 rounded-md bg-secondary text-secondary-foreground;
  }

  /* Barra de progresso */
  .progress {
    @apply h-2 w-full rounded-full bg-muted overflow-hidden;
  }
  .progress__bar {
    @apply h-2 rounded-full bg-primary;
    animation: progress-in 700ms cubic-bezier(.16,1,.3,1) both;
  }

  /* Spotlight util para heros */
  .spotlight {
    position: relative;
    isolation: isolate;
  }
  .spotlight::before {
    content: "";
    position: absolute;
    inset: -40%;
    z-index: -1;
    background:
      radial-gradient(600px 300px at 20% 10%, hsl(var(--primary)/0.20), transparent 60%),
      radial-gradient(600px 300px at 80% 90%, hsl(var(--accent)/0.18), transparent 60%);
    filter: blur(20px) saturate(1.1);
  }
}

/* ===============================
   UTILITIES (micro animações)
   =============================== */
@layer utilities {
  .story-link { @apply relative inline-block; }
  .story-link::after {
    content: "";
    @apply absolute left-0 bottom-0 h-0.5 w-full origin-bottom-right scale-x-0 bg-primary transition-transform duration-300;
  }
  .story-link:hover::after { @apply origin-bottom-left scale-x-100; }

  .hover-scale { @apply transition-transform duration-200 hover:scale-105; }

  .pulse { animation: pulse 2s cubic-bezier(0.4,0,0.6,1) infinite; }

  /* Novas utilities de motion */
  .fade-in      { animation: fade-in .5s cubic-bezier(.4,0,.2,1) both; }
  .fade-in-delayed { animation: fade-in .7s cubic-bezier(.4,0,.2,1) .12s both; }
  .slide-up     { animation: slide-up .45s cubic-bezier(.16,1,.3,1) both; }
  .scale-in     { animation: scale-in .35s cubic-bezier(.16,1,.3,1) both; }
  .shimmer      { position: relative; overflow: hidden; }
  .shimmer::after {
    content:"";
    position:absolute; inset:0;
    background: linear-gradient(110deg, transparent 0%, hsl(var(--foreground)/0.06) 40%, transparent 60%);
    transform: translateX(-100%);
    animation: shimmer 1.4s infinite;
  }
  .glow { box-shadow: 0 0 0 4px hsl(var(--ring)/0.12), 0 8px 24px -8px hsl(var(--primary)/0.35); }

  /* Blobs decorativos (usar com ::before/::after num wrapper) */
  .blob {
    background: radial-gradient(closest-side, hsl(var(--primary)/.15), transparent 70%);
    filter: blur(20px);
  }
}

/* ===============================
   KEYFRAMES
   =============================== */
@keyframes fade-in {
  from { opacity: 0; transform: translateY(14px); filter: blur(6px); }
  to   { opacity: 1; transform: translateY(0);    filter: blur(0); }
}
@keyframes slide-up {
  from { opacity: 0; transform: translateY(10px); }
  to   { opacity: 1; transform: translateY(0); }
}
@keyframes scale-in {
  from { opacity: 0; transform: scale(.97); }
  to   { opacity: 1; transform: scale(1); }
}
@keyframes shimmer {
  0%   { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}
@keyframes pulse {
  0%,100% { opacity:1 }
  50% { opacity:.6 }
}
@keyframes progress-in {
  from { width: 0; }
  to   { width: var(--progress, 100%); }
}
